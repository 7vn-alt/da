<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DA Lab</title>

<style>
body {
  margin: 0;
  padding: 20px;
  background: #f8f8f8;
  color: #333;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  display: flex;
  justify-content: center;
}

.wrapper {
  width: 100%;
  max-width: 900px;
  background: #fff;
  border: 1px solid #ddd;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  padding: 15px;
}

/* Main tabs row */
.tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

/* Main tab style */
.tabs .tab {
  padding: 10px 18px;
  border: 1px solid #333;
  background: #444;
  color: #fff;
  cursor: pointer;
  font-size: 15px;
  border-radius: 4px 4px 0 0;
}

.tabs .tab.active {
  background: #fff;
  color: #333;
  border-bottom: 2px solid #fff;
  font-weight: 600;
}

/* Subtabs inside category sections */
.subtabs {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
}

.subtabs .tab {
  padding: 6px 12px;
  border: 1px solid #ccc;
  background: #eee;
  font-size: 13px;
  cursor: pointer;
  border-radius: 4px;
}

.subtabs .tab.active {
  background: #ddd;
  border-bottom: 2px solid #333;
  font-weight: 500;
}

/* Section display */
.section {
  display: none;
}

.section.active {
  display: block;
}

.content-area {
  display: flex;
  gap: 10px;
}

/* Code container & copy button */
.code-container {
  position: relative;
  width: 50%;
}

.copy-btn {
  position: absolute;
  right: 5px;
  top: 5px;
  padding: 3px 8px;
  font-size: 12px;
  border: none;
  background: #4CAF50;
  color: white;
  border-radius: 3px;
  cursor: pointer;
  z-index: 10;
}

.copy-btn:hover {
  background: #45a049;
}

iframe, pre {
  width: 100%;
  height: 70vh;
  border: 1px solid #ccc;
  padding: 10px;
  overflow: auto;
  background: #f4f4f4;
  font-size: 13px;
  display: none;
}

iframe.active, pre.active {
  display: block;
}

pre {
  white-space: pre-wrap;
}

/* PDF-specific style: larger display */
iframe.pdf-viewer {
  width: 100% !important;
  height: 80vh !important;
}

@media (max-width: 768px) {
  .content-area {
    flex-direction: column;
  }
  .code-container, iframe {
    width: 100%;
    height: 50vh;
  }
  iframe.pdf-viewer {
    height: 60vh !important;
  }
}
</style>

</head>

<body>
<div class="wrapper">

  <div class="tabs">
    <!-- PDF Tabs -->
    <button class="tab active" onclick="openSection(0)">DA1-8Record</button>
    <button class="tab" onclick="openSection(1)">DA-All</button>
    <button class="tab" onclick="openSection(2)">DADashboard</button>

    <!-- Code Category Tabs -->
    <button class="tab" onclick="openSection(3)">Category 1: Probability</button>
    <button class="tab" onclick="openSection(4)">Category 2: Statistical Tests</button>
    <button class="tab" onclick="openSection(5)">Category 3: Regression Analysis</button>
  </div>

  <!-- PDF Sections -->
  <div class="section active">
    <iframe src="da1-8record.pdf" class="active pdf-viewer"></iframe>
  </div>
  <div class="section">
    <iframe src="da-all.pdf" class="active pdf-viewer"></iframe>
  </div>
  <div class="section">
    <iframe src="dadashboard.pdf" class="active pdf-viewer"></iframe>
  </div>

  <!-- Category 1: Probability -->
  <div class="section">
    <div class="subtabs">
      <button class="tab active" onclick="openCodeContent(3,0)">A) Simple Probability</button>
      <button class="tab" onclick="openCodeContent(3,1)">B) Binomial Distribution</button>
    </div>
    <div class="content-area">
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre class="active">
import random

num_trials = int(input("Enter number of trials: "))
rolls_per_trial = int(input("For each trial, how many rolls: "))
roll_up_value = int(input("Enter rollup value (1-6): "))

poss_outcomes = 0
for i in range(num_trials):
    for j in range(rolls_per_trial):
        result = random.randint(1, 6)
        print(result)
        if result == roll_up_value:
            poss_outcomes += 1
        print("--------")

total_outcomes = num_trials * rolls_per_trial
print(f"Number of times {roll_up_value} appeared in {num_trials} trials of {rolls_per_trial} rolls: {poss_outcomes}")
print("Probability =", poss_outcomes / total_outcomes)
        </pre>
      </div>
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
from scipy.stats import binom

n = 10  # Number of trials
p = 0.5  # Probability of success
k_success = 2  # Number of successes

prob_2_success = binom.pmf(k_success, n, p)
print(f"Probability of 2 successes out of 10 trials: {prob_2_success}")
        </pre>
      </div>
    </div>
  </div>

  <!-- Category 2: Statistical Tests -->
  <div class="section">
    <div class="subtabs">
      <button class="tab active" onclick="openCodeContent(4,0)">A) T-Tests</button>
      <button class="tab" onclick="openCodeContent(4,1)">B) ANOVA & Chi-Square</button>
    </div>
    <div class="content-area">
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre class="active">
import pandas as pd
from scipy import stats

titanic_data = pd.read_csv('train.csv')

# One Sample T-Test
hypothetical_mean_age = 30
ttest_one_sample = stats.ttest_1samp(titanic_data['Age'].dropna(), hypothetical_mean_age)
print("One Sample T-Test:")
print("T-statistic:", ttest_one_sample.statistic)
print("p-value:", ttest_one_sample.pvalue)

# Two Independent Samples T-Test
male_ages = titanic_data[titanic_data['Sex']=='male']['Age'].dropna()
female_ages = titanic_data[titanic_data['Sex']=='female']['Age'].dropna()
ttest_two_ind_samples = stats.ttest_ind(male_ages, female_ages)
print("\nTwo Independent Samples T-Test:")
print("T-statistic:", ttest_two_ind_samples.statistic)
print("p-value:", ttest_two_ind_samples.pvalue)

# Paired T-Test
before_fares = titanic_data['Fare'].dropna()
after_fares = before_fares * 1.2  # Assuming 20% increase
ttest_paired = stats.ttest_rel(before_fares, after_fares)
print("\nPaired T-Test:")
print("T-statistic:", ttest_paired.statistic)
print("p-value:", ttest_paired.pvalue)
        </pre>
      </div>
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
# ANOVA
anova_result = stats.f_oneway(
    titanic_data[titanic_data['Pclass']==1]['Fare'].dropna(),
    titanic_data[titanic_data['Pclass']==2]['Fare'].dropna(),
    titanic_data[titanic_data['Pclass']==3]['Fare'].dropna()
)
print("\nANOVA Test Result:")
print("F-statistic:", anova_result.statistic)
print("p-value:", anova_result.pvalue)

# Chi-Square Test
chi2_table = pd.crosstab(titanic_data['Survived'], titanic_data['Pclass'])
chi2_result = stats.chi2_contingency(chi2_table)
print("\nChi-Square Test Result:")
print("Chi-Square statistic:", chi2_result[0])
print("p-value:", chi2_result[1])
        </pre>
      </div>
    </div>
  </div>

  <!-- Category 3: Regression Analysis -->
  <div class="section">
    <div class="subtabs">
      <button class="tab active" onclick="openCodeContent(5,0)">A) Correlation</button>
      <button class="tab" onclick="openCodeContent(5,1)">B) Linear Regression</button>
      <button class="tab" onclick="openCodeContent(5,2)">C) Logistic Regression</button>
    </div>
    <div class="content-area">
      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre class="active">
import numpy as np
import matplotlib.pyplot as plt

# Generate sample data
np.random.seed(42)
X = np.random.rand(100,1) * 10
y = 2 * X.squeeze() + np.random.randn(100) * 2

# Scatter plot and correlation coefficient
plt.figure(figsize=(8,4))
plt.scatter(X, y)
plt.title('Scatter Plot')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)

correlation_coefficient = np.corrcoef(X.squeeze(), y)[0,1]
print(f"Correlation Coefficient: {correlation_coefficient}")
plt.show()
        </pre>
      </div>

      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error, r2_score

# Linear regression
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)
lin_reg = LinearRegression()
lin_reg.fit(X_train, y_train)
y_pred = lin_reg.predict(X_test)

mse = mean_squared_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)
print(f"Mean Squared Error: {mse}")
print(f"R-squared Score: {r2}")

plt.figure(figsize=(8,4))
plt.scatter(X_test, y_test, color='black')
plt.plot(X_test, y_pred, color='blue', linewidth=3)
plt.title('Linear Regression Prediction')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.show()
        </pre>
      </div>

      <div class="code-container">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
from sklearn.linear_model import LogisticRegression
from sklearn.datasets import load_iris
import matplotlib.pyplot as plt
import numpy as np

# Logistic Regression
iris = load_iris()
X_iris = iris.data[:,:2]
y_iris = iris.target

log_reg = LogisticRegression()
log_reg.fit(X_iris, y_iris)

# Decision boundary visualization
x_min, x_max = X_iris[:,0].min()-1, X_iris[:,0].max()+1
y_min, y_max = X_iris[:,1].min()-1, X_iris[:,1].max()+1
xx, yy = np.meshgrid(np.arange(x_min,x_max,0.1), np.arange(y_min,y_max,0.1))
Z = log_reg.predict(np.c_[xx.ravel(), yy.ravel()])
Z = Z.reshape(xx.shape)

plt.figure(figsize=(8,6))
plt.contourf(xx, yy, Z, alpha=0.4)
plt.scatter(X_iris[:,0], X_iris[:,1], c=y_iris, s=20, edgecolor='k')
plt.title('Logistic Regression (Iris dataset)')
plt.xlabel('Sepal Length')
plt.ylabel('Sepal Width')
plt.grid(True)
plt.show()
        </pre>
      </div>
    </div>
  </div>

</div>

<script>
function openSection(index) {
  const sections = document.querySelectorAll('.section');
  const tabs = document.querySelectorAll('.tabs .tab');
  sections.forEach((sec,i) => sec.classList.toggle('active', i===index));
  tabs.forEach((tab,i) => tab.classList.toggle('active', i===index));
}

function openCodeContent(sectionIndex, contentIndex) {
  const section = document.querySelectorAll('.section')[sectionIndex];
  const tabs = section.querySelectorAll('.subtabs .tab');
  const pres = section.querySelectorAll('pre');
  tabs.forEach((tab,i)=>tab.classList.toggle('active', i===contentIndex));
  pres.forEach((el,i)=>el.classList.toggle('active', i===contentIndex));
}

// Copy button functionality
function copyCode(btn) {
  const pre = btn.nextElementSibling;
  const code = pre.innerText;
  navigator.clipboard.writeText(code).then(() => {
    btn.innerText = "Copied!";
    setTimeout(() => btn.innerText = "Copy", 1000);
  });
}
</script>

</body>
</html>
